{% from "macros/nav.html" import navbar %}
{% from "macros/footer.html" import footer %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Black Belt City</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<style>
    .navbar {
        margin-bottom: 12px;
        border-radius: 6px;
        border: 1px solid #ddd;
    }

    .navbar-light .navbar-toggler-icon {
        background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba%280,0,0,0.7%29' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
    }

    .details-panel {
        border: 1px solid #ddd;
        border-radius: 6px;
        padding: 15px;
        margin-bottom: 20px;
        background-color: #f9f9f9;
    }

    .art-image {
        max-width: 100%;
        border-radius: 6px;
        cursor: pointer;
    }

    .button-stack a,
    .button-stack button {
        margin-bottom: 8px;
    }

    /* Weapons Arts: "Why Choose" list styled like Striking, Grappling, Hybrid pages */
    .why-choose-list {
        list-style: none;
        padding: 0;
        text-align: left;
        max-width: 700px;
        margin: 0 auto 40px auto;
    }

    .why-choose-list li {
        padding: 10px 0;
        border-bottom: 1px solid #ccc;
        font-size: 1rem;
    }
</style>

</head>
<body style="text-align: center;">

{{ navbar() }}

<!-- Header Section -->
<header>
  <h1>The Weapon Arts</h1>
  <p class="lead">From sticks to swords, forge mastery in body, mind, and blade.</p>
</header>

<section id="intro" class="container">
  <div class="text-center mb-5">
    <p class="text-muted">
      Weapon martial arts are some of the most exhilarating and empowering disciplines a person can pursue. From the fluid, lightning-fast sticks and blades of Filipino Martial Arts, to the razor-sharp precision and centuries of battlefield wisdom in Historical European Martial Arts, to the focused, flowing strikes of Kenjutsu, and the disciplined, spirit-forging intensity of Kendo, each art teaches a unique way to move, think, and strike. These are not just techniques—they are living histories, challenges to your body and mind, and pathways to mastery. Exploring them is a journey into skill, strategy, and self-transformation. Dive into these arts, and you’ll discover a world where every motion becomes a weapon, every practice shapes your character, and every strike carries the weight of tradition and mastery.
    </p>
  </div>
</section>

<section id="why-weapons" class="container mb-5">
  <h3>Why Choose a Weapons Martial Art?</h3>
  <ul class="why-choose-list">
    <li>Learn to handle a variety of traditional and modern weapons effectively.</li>
    <li>Develop coordination, timing, and precision through weapon training.</li>
    <li>Enhance self-defense skills against armed opponents.</li>
    <li>Gain insight into historical combat and martial heritage.</li>
    <li>Improve focus, discipline, and strategic thinking.</li>
    <li>Combine physical conditioning with technical mastery.</li>
  </ul>
</section>

<div class="container">

{% for item in items %}
    <!-- Navbar Row -->
    <nav class="navbar navbar-light bg-white">
        <div class="container-fluid">

            <!-- Martial Art Name -->
            <span class="navbar-brand mb-0 h5">{{ item.name }}</span>

            <!-- Hamburger Toggle -->
            <button class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#details-{{ loop.index }}"
                    aria-expanded="false">
                <span class="navbar-toggler-icon"></span>
            </button>

        </div>
    </nav>

    <!-- Expandable Details Rectangle -->
    <div class="collapse" id="details-{{ loop.index }}">
        <div class="details-panel">

            <div class="row align-items-start">

                <!-- LEFT: Image -->
                <div class="col-md-3 text-center">
                    <img src="{{ item.image.file_url }}"
                         alt="{{ item.image.alt_text }}"
                         class="art-image"
                         data-bs-toggle="tooltip"
                         data-bs-placement="right"
                         title="{{ item.image.attribution }}">
                </div>

                <!-- CENTER: Country + Description -->
                <div class="col-md-6 text-start">
                    <h6><strong>Country of Origin:</strong> {{ item.country_of_origin }}</h6>

                    {% for paragraph in item.description %}
                        <p class="mb-2">{{ paragraph }}</p>
                    {% endfor %}
                </div>

                <!-- RIGHT: Buttons -->
                <div class="col-md-3 text-center button-stack">
                    <a href="{{ url_for('martial_art_weapons_details', art_key=item.name|replace(' ', '') ) }}"
                       class="btn btn-dark btn-sm w-100">
                        Details
                    </a>

                    <a href="{{ item.wikipedia_link }}"
                       target="_blank"
                       class="btn btn-primary btn-sm w-100">
                        Wikipedia
                    </a>

                    <a href="{{ item.google_search_link }}"
                       target="_blank"
                       class="btn btn-secondary btn-sm w-100">
                        Google
                    </a>

                    <a href="{{ item.youtube_search_link }}"
                       target="_blank"
                       class="btn btn-danger btn-sm w-100">
                        YouTube
                    </a>
                </div>

            </div>
        </div>
    </div>

{% endfor %}
</div>

{{ footer() }}

<!-- Tooltip Initialization -->
<script>
  const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
  const tooltipList = [...tooltipTriggerList].map(
    tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl)
  )
</script>

</body>
</html>
